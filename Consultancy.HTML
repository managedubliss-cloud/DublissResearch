<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Research Consultancy - DUBliss</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --gold: #D4A017;
            --gold-light: #E8C15A;
            --gold-dark: #B8860B;
            --navy: #0A2342;
            --navy-light: #1A365D;
            --navy-lighter: #2C5282;
            --white: #FFFFFF;
            --gray: #E2E8F0;
            --gray-dark: #CBD5E0;
            --glass: rgba(255,255,255,0.06);
            --ease: cubic-bezier(.2,.9,.3,1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html,body { height:100%; }
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--white);
            background-color: var(--navy);
            overflow-x: hidden;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
        }
        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }

        .container { width: 90%; max-width: 1200px; margin: 0 auto; }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 12px 28px;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.35s var(--ease);
            cursor: pointer;
            backface-visibility: hidden;
        }
        .btn-primary {
            background: linear-gradient(180deg,var(--gold),var(--gold-dark));
            color: var(--navy);
            box-shadow: 0 8px 24px rgba(212,160,23,0.18);
        }
        .btn-primary:hover {
            transform: translateY(-4px) scale(1.01);
            box-shadow: 0 18px 40px rgba(212,160,23,0.22);
        }

        /* Header */
        header {
            background: rgba(10,35,66,0.85);
            color: var(--white);
            position: fixed;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 6px 20px rgba(0,0,0,0.35);
            backdrop-filter: blur(6px);
            transition: background 0.3s var(--ease), transform 0.3s var(--ease);
        }
        .header-container {
            display:flex; justify-content:space-between; align-items:center; padding:14px 0;
        }

        .logo-container {
            display:flex; align-items:center; gap:12px;
            transition: transform 0.35s var(--ease);
        }

        /* NEW: logo image */
        #logo-img {
            width:56px; height:56px; object-fit:cover; border-radius:10px;
            border: 2px solid rgba(255,255,255,0.06);
            box-shadow: 0 8px 20px rgba(0,0,0,0.45);
            transition: transform 0.45s var(--ease), box-shadow 0.35s var(--ease);
        }
        #logo-img:hover { transform: scale(1.08) rotate(-4deg); box-shadow: 0 18px 34px rgba(0,0,0,0.55); }

        .logo-b { font-size:28px; font-weight:800; color:var(--gold); line-height:1; }
        .logo-text { display:flex; flex-direction:column; line-height:1.05;}
        .logo-main { font-size:18px; font-weight:700; color:var(--white); }
        .logo-sub { font-size:11px; font-weight:500; color:var(--gray); letter-spacing:0.8px; }

        .nav-links { display:flex; gap:26px; align-items:center; }
        .nav-links a { font-weight:500; transition: color 0.28s var(--ease); position:relative; padding:6px 0; }
        .nav-links a:hover { color:var(--gold); transform: translateY(-2px); }
        .nav-links a::after {
            content:'';
            position:absolute; left:0; bottom:-6px; width:0; height:2px; background:var(--gold);
            transition: width 0.28s var(--ease);
        }
        .nav-links a:hover::after { width:100%; }
        .mobile-menu-btn { display:none; background:none; border:none; color:var(--white); font-size:22px; cursor:pointer; }

        /* Hero */
        .hero {
            background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%);
            color: var(--white);
            padding: 180px 0 120px;
            position: relative;
            overflow: hidden;
        }
        .hero::before {
            content:''; position:absolute; top:-10%; left:-15%; width:140%; height:140%;
            background: radial-gradient(circle at 35% 45%, rgba(212,160,23,0.06) 0%, transparent 25%);
            transform: rotate(6deg);
        }
        .hero-content { display:flex; flex-direction:column; align-items:center; text-align:center; z-index:2; position:relative; }
        .hero h1 { font-size:3.4rem; font-weight:700; margin-bottom:18px; line-height:1.05; transition: transform 0.6s var(--ease); }
        .hero h1 span { color:var(--gold); }
        .hero p { font-size:1.14rem; max-width:740px; margin-bottom:36px; color:var(--gray); opacity:0.95; }

        .hero-buttons { display:flex; gap:18px; margin-bottom:56px; }

        /* Overview */
        .overview-section { padding: 96px 0; background-color: var(--navy-light); }
        .section-title { text-align:center; margin-bottom:48px; }
        .section-title h2 { font-size:2.4rem; color:var(--gold); margin-bottom:12px; display:inline-block; position:relative; }
        .section-title h2::after { content:''; position:absolute; width:70px; height:3px; background:var(--gold); bottom:-10px; left:50%; transform:translateX(-50%); }
        .section-title p { color:var(--gray); max-width:820px; margin:0 auto; }

        .overview-content { display:grid; grid-template-columns:1fr 1fr; gap:40px; align-items:center; }
        .overview-visual { position:relative; height:360px; background:linear-gradient(135deg,var(--navy-lighter),var(--navy-light)); border-radius:12px; overflow:hidden; display:flex; align-items:center; justify-content:center; border:1px solid rgba(212,160,23,0.12); box-shadow:0 10px 30px rgba(0,0,0,0.28); }
        .visual-content h3 { color:var(--gold); font-size:1.4rem; margin-bottom:8px; }

        /* Expertise */
        .expertise-section { padding: 88px 0; background-color:var(--navy); }
        .expertise-tabs { display:flex; flex-wrap:wrap; gap:10px; margin-bottom:28px; justify-content:center; }
        .tab-btn { padding:10px 20px; background:var(--navy-light); border:none; border-radius:999px; font-weight:600; cursor:pointer; color:var(--gray); transition: all 0.25s var(--ease); }
        .tab-btn.active { background:linear-gradient(180deg,var(--gold),var(--gold-dark)); color:var(--navy); transform:scale(1.02); box-shadow:0 10px 24px rgba(212,160,23,0.14); }
        .tab-content { display:none; }
        .tab-content.active { display:block; animation: fadeInUp 0.55s var(--ease); }

        .service-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:22px; }
        .service-card { background:var(--navy-light); padding:26px; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,0.22); transition: transform 0.35s var(--ease), box-shadow 0.35s var(--ease); border:1px solid rgba(212,160,23,0.06); perspective:1000px; }
        .service-card:hover { transform: translateY(-12px) rotateX(2deg); border-color: rgba(212,160,23,0.24); }

        /* Monitoring & Packages */
        .monitoring-section { padding:84px 0; background-color:var(--navy-light); }
        .capability-icon { width:36px; height:36px; background-color: rgba(212,160,23,0.08); border-radius:50%; display:flex; align-items:center; justify-content:center; margin-right:12px; color:var(--gold); flex-shrink:0; }

        .packages-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:18px; }
        .package-card { background:var(--navy); padding:22px; border-radius:10px; border-left:4px solid var(--gold); transition: transform .28s var(--ease); }
        .package-card:hover { transform: translateY(-8px); box-shadow:0 14px 34px rgba(0,0,0,0.26); }

        /* Process */
        .process-section { padding:84px 0; background-color:var(--navy); }
        .process-steps { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:18px; }
        .process-step { text-align:center; padding:22px; position:relative; background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); border-radius:8px; transition: transform 0.32s var(--ease), box-shadow 0.32s var(--ease); }
        .process-step:hover { transform: translateY(-8px); box-shadow:0 14px 30px rgba(0,0,0,0.28); }
        .step-number { width:56px; height:56px; background:var(--gold); border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 16px; color:var(--navy); font-weight:700; font-size:1.25rem; }

        /* CTA */
        .cta-section { padding:96px 0; background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%); text-align:center; }
        .cta-content h2 { font-size:2.2rem; color:var(--gold); margin-bottom:14px; }
        .cta-content p { color:var(--gray); margin-bottom:20px; font-size:1.03rem; }

        /* Footer */
        footer { background-color:var(--navy-light); color:var(--white); padding:56px 0 30px; border-top:1px solid rgba(212,160,23,0.14); }
        .footer-content { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:30px; margin-bottom:30px; }
        .footer-column h3 { font-size:1.1rem; margin-bottom:12px; color:var(--gold); }
        .footer-links a:hover { color:var(--gold); }

        .footer-bottom { text-align:center; padding-top:18px; border-top:1px solid rgba(255,255,255,0.06); color:rgba(255,255,255,0.75); font-size:0.9rem; }

        /* Animations */
        @keyframes fadeIn { from { opacity:0 } to { opacity:1 } }
        @keyframes fadeInUp { from { opacity:0; transform: translateY(14px) } to { opacity:1; transform: translateY(0) } }
        .fade-in { animation: fadeIn 1s ease forwards; }

        /* Responsive */
        @media (max-width: 992px) {
            .overview-content, .monitoring-content { grid-template-columns: 1fr; }
            .hero h1 { font-size:2.6rem; }
            .logo-main { display:none; } /* hide text on small for compact header */
        }
        @media (max-width: 768px) {
            .nav-links { display:none; position:absolute; top:100%; left:0; width:100%; background:var(--navy-light); flex-direction:column; padding:18px; box-shadow:0 8px 22px rgba(0,0,0,0.28); }
            .nav-links.active { display:flex; }
            .mobile-menu-btn { display:block; }
            .hero h1 { font-size:2.1rem; }
            .hero-buttons { flex-direction:column; gap:12px; }
            .header-container { padding:10px 0; }
        }
        @media (max-width: 576px) {
            .hero h1 { font-size:1.6rem; }
            .section-title h2 { font-size:1.6rem; }
        }

        /* Modal (contact) */
        .modal-backdrop { position:fixed; inset:0; background:rgba(2,6,23,0.6); display:none; align-items:center; justify-content:center; z-index:2000; padding:20px; }
        .modal-backdrop.active { display:flex; }
        .modal { width:100%; max-width:680px; background:linear-gradient(180deg,#0d2038,#0b2238); border-radius:12px; padding:18px; box-shadow:0 18px 50px rgba(0,0,0,0.6); border:1px solid rgba(255,255,255,0.04); }
        .modal h3 { color:var(--gold); margin-bottom:8px; }
        .modal form { display:grid; gap:12px; margin-top:8px; }
        .form-row { display:flex; gap:10px; }
        .form-row .field { flex:1; }
        input[type="text"], input[type="email"], textarea {
            width:100%; padding:10px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); background:rgba(255,255,255,0.02); color:var(--white);
            transition: box-shadow .18s var(--ease), border-color .18s var(--ease);
        }
        input:focus, textarea:focus { outline:none; box-shadow:0 6px 18px rgba(0,0,0,0.4); border-color:var(--gold); }
        .help { font-size:12px; color:rgba(255,255,255,0.7); }
        .error { color:#ffb3b3; font-size:12px; }
        .prediction { margin-top:10px; color:var(--gray); background:rgba(255,255,255,0.02); padding:8px; border-radius:8px; font-size:14px; }

        /* little progress bar */
        .progress-wrap { position: fixed; right: 18px; bottom: 18px; background: rgba(0,0,0,0.35); padding:8px; border-radius:999px; box-shadow: 0 8px 24px rgba(0,0,0,0.4); }
        .progress { width:120px; height:6px; background:rgba(255,255,255,0.08); border-radius:999px; overflow:hidden; }
        .progress > i { display:block; height:100%; background:linear-gradient(90deg,var(--gold),var(--gold-light)); width:0%; transition: width .25s linear; }

    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo-container" title="DUBliss - Home">
                <!-- Logo image added and wrapped in link to Index.html -->
                <!-- NOTE: This uses a local file path (file:///...). Works when page is opened from the same machine.
                     For portability, move the image into the project folder and use a relative path like images/logo.jpg -->
                <a href="Index.html" aria-label="DUBliss Home">
                    <img id="logo-img" src="file:///C:\Users\Students\Documents\DuBlissWebsite\Images\DUBlisslogo.jpg" alt="DUBliss logo">
                </a>
                <div class="logo-text">
                    <div class="logo-main">DUBIiss</div>
                    <div class="logo-sub">RESEARCH CONSULTANCY AND ACADEMY</div>
                </div>
            </div>

            <nav>
                <ul class="nav-links">
                    <!-- Home link now points to Index.html (capital I) as requested -->
                    <li><a href="Index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="consultancy.html" class="active">Consultancy</a></li>
                    <li><a href="resources.html">Resources</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
                <button class="mobile-menu-btn" aria-label="Open menu">☰</button>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container hero-content">
            <h1>Research <span>Consultancy</span></h1>
            <p>End-to-end research support from concept to publication, delivering evidence-driven solutions aligned with global standards.</p>
            <div class="hero-buttons">
                <a href="#expertise" class="btn btn-primary">Our Expertise</a>
                <!-- Open contact modal instead of direct navigation so we can demonstrate validations & algorithms -->
                <button id="open-contact" class="btn btn-primary">Get Started</button>
            </div>
            <div class="fade-in" style="opacity:.95;">
                <small style="color:var(--gray)">Tip: click the logo to go to <strong>Index.html</strong></small>
            </div>
        </div>
    </section>

    <!-- Overview Section -->
    <section class="overview-section">
        <div class="container">
            <div class="section-title">
                <h2>Comprehensive Research Support</h2>
                <p>Transforming ideas into measurable, evidence-based impact</p>
            </div>

            <div class="overview-content">
                <div class="overview-text">
                    <h3>From Concept to Publication</h3>
                    <p>The DUBliss Consultancy arm delivers end-to-end research support—from concept to publication. Whether you are an academic, NGO, or government institution, our experts provide tailored, evidence-driven solutions aligned with global research standards.</p>
                    <p>Our multidisciplinary team combines deep methodological expertise with practical implementation experience to ensure your research achieves its intended impact.</p>
                    <p>We specialize in navigating the complexities of African research contexts while maintaining the rigor expected by international standards and peer-reviewed publications.</p>
                </div>
                <div class="overview-visual">
                    <div class="visual-content">
                        <h3>Research Excellence</h3>
                        <p>Bridging academic rigor with real-world application</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Expertise Section -->
    <section id="expertise" class="expertise-section">
        <div class="container">
            <div class="section-title">
                <h2>Our Expertise</h2>
                <p>Comprehensive research services tailored to your needs</p>
            </div>

            <div class="expertise-tabs">
                <button class="tab-btn active" data-tab="research-design">Research Design</button>
                <button class="tab-btn" data-tab="data-analysis">Data Analysis</button>
                <button class="tab-btn" data-tab="publication">Publication Support</button>
                <button class="tab-btn" data-tab="project-management">Project Management</button>
            </div>

            <div class="tab-content active" id="research-design">
                <div class="service-grid">
                    <div class="service-card">
                        <h3>Research Design & Development</h3>
                        <p>Laying the foundation for rigorous, impactful research</p>
                        <ul>
                            <li>Proposal and concept note development</li>
                            <li>Ethics application and protocol design</li>
                            <li>Literature reviews (systematic, scoping, or narrative)</li>
                            <li>Study design and methodology selection</li>
                            <li>Sampling strategy and power calculations</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="data-analysis">
                <div class="service-grid">
                    <div class="service-card">
                        <h3>Data Management & Statistical Analysis</h3>
                        <p>Transforming raw data into actionable insights</p>
                        <ul>
                            <li>Advanced quantitative and qualitative analysis (STATA, R, SPSS, Python)</li>
                            <li>Machine learning for health and social data</li>
                            <li>Data cleaning, visualization, and automation</li>
                            <li>Mixed-methods approaches and integration</li>
                            <li>Predictive modeling and trend analysis</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="publication">
                <div class="service-grid">
                    <div class="service-card">
                        <h3>Manuscript & Publication Support</h3>
                        <p>Maximizing the reach and impact of your research</p>
                        <ul>
                            <li>Scientific writing and journal formatting</li>
                            <li>Reviewer response and submission guidance</li>
                            <li>Proofreading and plagiarism checking</li>
                            <li>Journal selection and impact strategy</li>
                            <li>Data visualization for publications</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="project-management">
                <div class="service-grid">
                    <div class="service-card">
                        <h3>Research Project Management</h3>
                        <p>Ensuring research excellence from implementation to delivery</p>
                        <ul>
                            <li>Field supervision and data quality control</li>
                            <li>SOP development and audit systems</li>
                            <li>Technical reporting and grant deliverable tracking</li>
                            <li>Budget management and resource allocation</li>
                            <li>Stakeholder engagement and communication</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Monitoring & Evaluation Section -->
    <section class="monitoring-section">
        <div class="container">
            <div class="section-title">
                <h2>Monitoring & Evaluation</h2>
                <p>The heartbeat of sustainable research—turning data into actionable insight</p>
            </div>

            <div class="monitoring-content">
                <div class="monitoring-text">
                    <h3>Evidence-Driven Impact Assessment</h3>
                    <p>Our M&E division designs systems that transform data into actionable insights, ensuring your research creates meaningful, measurable change.</p>
                    <p>We combine rigorous methodology with practical implementation to deliver M&E solutions that are both scientifically sound and operationally feasible.</p>

                    <h4>Key Capabilities</h4>
                    <div class="capabilities-grid">
                        <div class="capability-item">
                            <div class="capability-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="capability-text">M&E Framework and Theory of Change development</div>
                        </div>
                        <div class="capability-item">
                            <div class="capability-icon">
                                <i class="fas fa-bullseye"></i>
                            </div>
                            <div class="capability-text">Indicator design and data tracking systems</div>
                        </div>
                        <div class="capability-item">
                            <div class="capability-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <div class="capability-text">Baseline, midline, and endline evaluations</div>
                        </div>
                        <div class="capability-item">
                            <div class="capability-icon">
                                <i class="fas fa-tachometer-alt"></i>
                            </div>
                            <div class="capability-text">Impact assessments and performance dashboards</div>
                        </div>
                        <div class="capability-item">
                            <div class="capability-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <div class="capability-text">Data quality audits and real-time monitoring tools</div>
                        </div>
                        <div class="capability-item">
                            <div class="capability-icon">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                            <div class="capability-text">Institutional M&E training and capacity building</div>
                        </div>
                    </div>
                </div>

                <div class="monitoring-packages">
                    <h3>Signature M&E Packages</h3>
                    <div class="packages-grid">
                        <div class="package-card">
                            <h4>Results-Based Monitoring Toolkit</h4>
                            <p>Comprehensive monitoring solutions for research and health programs, featuring customizable frameworks and automated reporting.</p>
                        </div>
                        <div class="package-card">
                            <h4>Evaluation for Impact</h4>
                            <p>Rigorous evaluation methodologies for donor-funded initiatives, demonstrating value and informing future investments.</p>
                        </div>
                        <div class="package-card">
                            <h4>M&E Systems for Innovation</h4>
                            <p>Cutting-edge solutions integrating digital platforms and AI-powered dashboards for real-time insights and adaptive management.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Process Section -->
    <section class="process-section">
        <div class="container">
            <div class="section-title">
                <h2>Our Research Process</h2>
                <p>A systematic approach to delivering research excellence</p>
            </div>

            <div class="process-steps">
                <div class="process-step fade-in">
                    <div class="step-number">1</div>
                    <h3>Consultation & Scoping</h3>
                    <p>We begin by understanding your research objectives, constraints, and desired outcomes to develop a tailored approach.</p>
                </div>

                <div class="process-step fade-in">
                    <div class="step-number">2</div>
                    <h3>Design & Planning</h3>
                    <p>Our experts design a rigorous methodology, develop protocols, and create a comprehensive implementation plan.</p>
                </div>

                <div class="process-step fade-in">
                    <div class="step-number">3</div>
                    <h3>Implementation & Management</h3>
                    <p>We execute the research plan with precision, maintaining quality control and adapting to challenges as they arise.</p>
                </div>

                <div class="process-step fade-in">
                    <div class="step-number">4</div>
                    <h3>Analysis & Insight</h3>
                    <p>Using advanced analytical techniques, we transform data into meaningful insights and actionable recommendations.</p>
                </div>

                <div class="process-step fade-in">
                    <div class="step-number">5</div>
                    <h3>Dissemination & Impact</h3>
                    <p>We ensure your research reaches the right audiences and creates the intended change through strategic communication.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section id="contact" class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Transform Your Research?</h2>
                <p>Partner with DUBliss to elevate your research from concept to impact. Our team of experts is ready to support your next project with precision, innovation, and measurable results.</p>
                <a href="contact.html" class="btn btn-primary" id="start-project-cta">Start Your Project</a>
                <div style="margin-top:10px" class="help">Open the modal via the <strong>Get Started</strong> button at top to try the smart form (validation + estimator).</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>DUBliss Research</h3>
                    <p>Africa's premier hub for research excellence, innovation, and impact.</p>
                </div>

                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="Index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="consultancy.html">Consultancy</a></li>
                        <li><a href="academy.html">Academy</a></li>
                        <li><a href="resources.html">Resources</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>Services</h3>
                    <ul class="footer-links">
                        <li><a href="consultancy.html">Research Design</a></li>
                        <li><a href="consultancy.html">Data Analysis</a></li>
                        <li><a href="consultancy.html">Publication Support</a></li>
                        <li><a href="consultancy.html">Monitoring & Evaluation</a></li>
                        <li><a href="academy.html">Training Programs</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>Connect</h3>
                    <p>Stay updated with our latest insights and opportunities.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2023 DUBliss Research Consultancy & Academy. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Contact Modal (hidden initially) -->
    <div id="modal" class="modal-backdrop" aria-hidden="true">
        <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
            <div style="display:flex;justify-content:space-between;align-items:center;">
                <h3 id="modalTitle">Start Your Project</h3>
                <button id="close-modal" style="background:none;border:none;color:var(--gray);font-size:20px;cursor:pointer;">✕</button>
            </div>
            <p class="help">Fill basic details — smart suggestions and cost estimate will appear below based on your message.</p>

            <form id="contact-form" novalidate>
                <div class="form-row">
                    <div class="field">
                        <label class="help">Full name</label>
                        <input id="name" type="text" placeholder="Your name" required>
                        <div id="name-error" class="error" style="display:none;"></div>
                    </div>
                    <div class="field">
                        <label class="help">Email</label>
                        <input id="email" type="email" placeholder="you@domain.com" required>
                        <div id="email-error" class="error" style="display:none;"></div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="field">
                        <label class="help">Phone</label>
                        <input id="phone" type="text" placeholder="+27 7xx xxx xxx" required>
                        <div id="phone-error" class="error" style="display:none;"></div>
                    </div>
                    <div class="field">
                        <label class="help">Project length (months)</label>
                        <input id="duration" type="number" min="1" max="60" value="3" required>
                    </div>
                </div>

                <div>
                    <label class="help">Short description of your project / goals</label>
                    <textarea id="message" rows="5" placeholder="Describe what you want the research or evaluation to achieve..." required></textarea>
                    <div id="message-error" class="error" style="display:none;"></div>
                </div>

                <div class="prediction" id="predictionBox" style="display:none;">
                    <strong>Smart suggestion:</strong>
                    <div id="suggestionText">...</div>
                    <div id="estimationText" style="margin-top:8px;"></div>
                </div>

                <div style="display:flex;gap:12px;margin-top:10px;align-items:center;">
                    <button type="button" id="estimateBtn" class="btn btn-primary">Estimate & Save</button>
                    <button type="submit" class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--white)">Submit</button>
                    <div style="flex:1"></div>
                </div>
            </form>
        </div>
    </div>

    <!-- progress widget -->
    <div class="progress-wrap" aria-hidden="true">
        <div class="progress"><i style="width:0%"></i></div>
    </div>

    <script>
        // --- Mobile menu toggle
        document.querySelector('.mobile-menu-btn').addEventListener('click', function() {
            document.querySelector('.nav-links').classList.toggle('active');
        });

        // --- Tab switching for expertise
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                tabBtns.forEach(b => b.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));

                btn.classList.add('active');
                const tabId = btn.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // --- Smooth scrolling for same-page anchors
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 78,
                        behavior: 'smooth'
                    });
                    document.querySelector('.nav-links').classList.remove('active');
                }
            });
        });

        // --- Header color on scroll (keeps subtle)
        window.addEventListener('scroll', function() {
            const header = document.querySelector('header');
            if (window.scrollY > 80) {
                header.style.transform = 'translateY(-0px)';
                header.style.boxShadow = '0 10px 28px rgba(0,0,0,0.45)';
            } else {
                header.style.boxShadow = '0 6px 20px rgba(0,0,0,0.35)';
            }
        });

        // --- IntersectionObserver based animations (replacement for manual scroll checks)
        const animElements = document.querySelectorAll('.fade-in, .service-card, .process-step, .package-card, .overview-visual');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0) scale(1)';
                    entry.target.style.transition = 'opacity 0.7s ease, transform 0.7s ease';
                    observer.unobserve(entry.target);
                } else {
                    // leave initial hidden state for non-intersecting elements
                }
            });
        }, { threshold: 0.12 });

        animElements.forEach(el => {
            el.style.opacity = 0;
            el.style.transform = 'translateY(18px) scale(.995)';
            observer.observe(el);
        });

        // --- Card tilt effect (mouse move) to enhance feel
        document.querySelectorAll('.service-card').forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const cx = rect.width / 2;
                const cy = rect.height / 2;
                const dx = (x - cx) / cx;
                const dy = (y - cy) / cy;
                card.style.transform = `rotateX(${(-dy * 6).toFixed(2)}deg) rotateY(${(dx * 6).toFixed(2)}deg) translateZ(6px)`;
            });
            card.addEventListener('mouseleave', () => {
                card.style.transform = '';
            });
        });

        // --- Simple page read progress
        const progressBar = document.querySelector('.progress > i');
        window.addEventListener('scroll', () => {
            const scrolled = window.scrollY;
            const height = document.body.scrollHeight - window.innerHeight;
            const pct = height ? (scrolled / height) * 100 : 0;
            progressBar.style.width = Math.min(100, Math.max(0, pct)) + '%';
        });

        // ===== Contact modal + validations + "smart" algorithm + estimator =====
        const modal = document.getElementById('modal');
        const openContactBtn = document.getElementById('open-contact');
        const closeModalBtn = document.getElementById('close-modal');
        const contactForm = document.getElementById('contact-form');
        const predictionBox = document.getElementById('predictionBox');
        const suggestionText = document.getElementById('suggestionText');
        const estimationText = document.getElementById('estimationText');

        openContactBtn.addEventListener('click', () => {
            modal.classList.add('active');
            modal.setAttribute('aria-hidden','false');
            document.querySelector('#name').focus();
        });
        closeModalBtn.addEventListener('click', () => {
            modal.classList.remove('active');
            modal.setAttribute('aria-hidden','true');
        });
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
                modal.setAttribute('aria-hidden','true');
            }
        });

        // Validation helpers
        function showError(id, msg) {
            const el = document.getElementById(id + '-error');
            if (el) { el.style.display = 'block'; el.innerText = msg; }
        }
        function clearError(id) {
            const el = document.getElementById(id + '-error');
            if (el) { el.style.display = 'none'; el.innerText = ''; }
        }

        function validateEmail(email) {
            // careful regex: robust but not overstricive
            return /^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(email);
        }
        function validatePhone(phone) {
            // Accepts digits, spaces, +, -, parentheses. Validate length 7-15 digits.
            const digits = phone.replace(/\D/g, '');
            return digits.length >= 7 && digits.length <= 15;
        }

        // Smart algorithm: categorize project type from keywords & estimate cost using heuristic
        function analyzeMessage(message) {
            const text = (message || '').toLowerCase();
            const keywords = {
                'survey': ['survey','household','questionnaire','respondent','sample'],
                'qualitative': ['focus group','fgd','interview','qualitative','in-depth'],
                'rct': ['randomi','rct','randomized','control','trial'],
                'systematic review': ['systematic review','meta-analysis','meta analysis','scoping'],
                'dashboards': ['dashboard','dashboarding','visualization','bi','power bi','tableau'],
                'ml': ['machine learning','predict','model','ml','random forest','xgboost','neural']
            };
            const scores = {};
            for (const k in keywords) {
                scores[k] = 0;
                keywords[k].forEach(kw => {
                    if (text.includes(kw)) scores[k] += 1;
                });
            }
            // pick highest
            const sorted = Object.entries(scores).sort((a,b) => b[1]-a[1]);
            let top = sorted[0];
            const confidence = top[1] / Math.max(1, sorted.reduce((s,kv)=>s+kv[1],0));
            const suggestion = top[1] > 0 ? top[0] : 'General Research/Proposal';
            return { suggestion, confidence: Math.round(confidence*100) };
        }

        // Cost estimator (very simple heuristic): base + per-month + complexity multiplier
        function estimateCost({suggestion, duration}) {
            let base = 1200; // baseline USD
            let perMonth = 600;
            let multiplier = 1;
            if (suggestion === 'survey') multiplier = 1.1;
            if (suggestion === 'qualitative') multiplier = 1.05;
            if (suggestion === 'rct') multiplier = 1.7;
            if (suggestion === 'systematic review') { base = 900; perMonth = 400; multiplier = 1.0; }
            if (suggestion === 'dashboards') { base = 1400; perMonth = 700; multiplier = 1.1; }
            if (suggestion === 'ml') { base = 1800; perMonth = 900; multiplier = 1.4; }

            const months = Math.max(1, Math.min(60, Number(duration) || 3));
            const est = Math.round((base + perMonth * months) * multiplier);
            return { est, currency: 'USD', months };
        }

        // Button that computes estimate + shows suggestion
        document.getElementById('estimateBtn').addEventListener('click', () => {
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const message = document.getElementById('message').value.trim();
            const duration = document.getElementById('duration').value;

            // simple inline validation
            let ok = true;
            if (!name) { showError('name','Please enter your full name.'); ok = false; } else clearError('name');
            if (!validateEmail(email)) { showError('email','Enter a valid email address.'); ok = false; } else clearError('email');
            if (!validatePhone(phone)) { showError('phone','Enter a valid phone number (7-15 digits).'); ok = false; } else clearError('phone');
            if (message.length < 15) { showError('message','Please provide a longer project description (min 15 chars).'); ok = false; } else clearError('message');

            if (!ok) {
                predictionBox.style.display = 'none';
                return;
            }

            // run "smart" detection
            const analysis = analyzeMessage(message);
            const estimate = estimateCost({ suggestion: analysis.suggestion, duration });

            predictionBox.style.display = 'block';
            suggestionText.innerHTML = `<strong>Detected project type:</strong> ${analysis.suggestion} (${analysis.confidence}% confidence)`;
            estimationText.innerHTML = `<strong>Estimated starting budget:</strong> ${estimate.currency} ${estimate.est.toLocaleString()} — approx. ${estimate.months} month(s).`;

            // Save form to localStorage (smart UX: remembers last values)
            const saved = { name, email, phone, message, duration, suggestion: analysis.suggestion, estimated: estimate.est, timestamp: Date.now() };
            try { localStorage.setItem('dub_form', JSON.stringify(saved)); }
            catch(e){ /* ignore localStorage errors */ }

            // small visual feedback (pulse)
            predictionBox.animate([{ transform: 'scale(0.995)' }, { transform: 'scale(1)' }], { duration: 300, easing: 'ease-out' });
        });

        // Submit handler - demo (does not send anywhere)
        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            // run estimateBtn routine programmatically to ensure validation & suggestion
            document.getElementById('estimateBtn').click();

            // simulate submission success
            setTimeout(() => {
                // basic success UI
                alert('Thanks! Your request has been saved locally. A team member would contact you — (demo).');
                modal.classList.remove('active');
            }, 250);
        });

        // Pre-fill from localStorage if available
        window.addEventListener('load', () => {
            try {
                const raw = localStorage.getItem('dub_form');
                if (raw) {
                    const d = JSON.parse(raw);
                    if (d.name) document.getElementById('name').value = d.name;
                    if (d.email) document.getElementById('email').value = d.email;
                    if (d.phone) document.getElementById('phone').value = d.phone;
                    if (d.message) document.getElementById('message').value = d.message;
                    if (d.duration) document.getElementById('duration').value = d.duration;
                }
            } catch (e) { /* ignore parse errors */ }
        });

        // Enhance Home link active detection (highlight current page in menu)
        (function markActiveNav() {
            const links = document.querySelectorAll('.nav-links a');
            const current = window.location.pathname.split('/').pop().toLowerCase();
            links.forEach(a => {
                const href = a.getAttribute('href') || '';
                if (href.toLowerCase() === current || (current === '' && href.toLowerCase() === 'index.html')) {
                    a.classList.add('active');
                    a.style.color = 'var(--gold)';
                }
            });
        })();

        // Accessibility: close modal on ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                if (modal.classList.contains('active')) {
                    modal.classList.remove('active');
                    modal.setAttribute('aria-hidden','true');
                }
            }
        });

        // Minor UX: smooth focus outline for keyboard users
        document.body.addEventListener('keydown', (e) => {
            if (e.key === 'Tab') document.body.classList.add('show-focus');
        });

    </script>
</body>
</html>
